<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Relat칩rios da Oficina</title>
    <link rel="stylesheet" th:href="@{/css/lista-pecas.css}">
	<link rel="stylesheet" href="/css/sidebar.css">
</head>
<body>
<div th:replace="fragments/sidebar :: sidebar"></div>
<div class="page-wrapper">
    <div class="card">
        <div class="header">
            <h1>Relat칩rios da Oficina</h1>
            <p>Resumo de pe칞as e ve칤culos cadastrados</p>
        </div>

		<form th:action="@{/relatorios/pecas/pdf}" method="get" style="margin-bottom: 16px;">
		    <button type="submit" class="button" style="background-color:#4CAF50;color:white;">
		        游늯 Gerar PDF das Pe칞as
		    </button>
		</form>

        <!-- Filtro de pe칞as -->
        <form method="get" th:action="@{/relatorios}" style="margin-bottom: 16px;">
            <input type="text" name="searchPeca" placeholder="Pesquisar pe칞a..." th:value="${searchPeca}" class="input">
            <button type="submit" class="button" style="width:auto;margin-left:8px;">Buscar</button>
        </form>

        <h2>Pe칞as</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>C칩digo</th>
                    <th>Quantidade</th>
                    <th>Pre칞o Unit치rio (R$)</th>
                    <th>Valor Total (R$)</th>
                    <th>Data Cadastro</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="p : ${pecas}">
                    <td th:text="${p.nome}"></td>
                    <td th:text="${p.codigo}"></td>
                    <td th:text="${p.quantidade}"></td>
                    <td th:text="${p.precoUnitario}"></td>
                    <td th:text="${p.valorTotal}"></td>
                    <td th:text="${p.dataCadastro}"></td>
                </tr>
            </tbody>
        </table>
		<form th:action="@{/relatorios/veiculos/pdf}" method="get" 
		      style="margin-top: 24px; margin-bottom: 16px;">
		    <button type="submit" class="button" style="background-color:#2196F3;color:white;">
		        游뚱 Gerar PDF dos Ve칤culos
		    </button>
		</form>

        <!-- Filtro de ve칤culos -->
        <form method="get" th:action="@{/relatorios}" style="margin-top: 24px; margin-bottom: 16px;">
            <input type="text" name="searchVeiculo" placeholder="Pesquisar ve칤culo..." th:value="${searchVeiculo}" class="input">
            <button type="submit" class="button" style="width:auto;margin-left:8px;">Buscar</button>
        </form>

        <h2>Ve칤culos</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Marca</th>
                    <th>Modelo</th>
                    <th>Ano</th>
                    <th>Placa</th>
                    <th>Status</th>
                    <th>Cliente</th>
                    <th>Data Cadastro</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="v : ${veiculos}">
                    <td th:text="${v.marca}"></td>
                    <td th:text="${v.modelo}"></td>
                    <td th:text="${v.ano}"></td>
                    <td th:text="${v.placa}"></td>
                    <td th:text="${v.status}"></td>
                    <td th:text="${v.cliente}"></td>
                    <td th:text="${v.dataCadastro}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
